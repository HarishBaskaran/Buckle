(global.webpackChunk_N_E=global.webpackChunk_N_E||[]).push([[6812],{4328:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/hb_app/1_body/6_TestSummary/modelling/multi_summary_creation",function(){return n(80)}])},642:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,jsonBodyContext:()=>u});var r=n(4246),a=n(7378),u=a.createContext("");const i=function(e){var t=e.children,n=(0,a.useState)(""),i=n[0],o=n[1],l=(0,a.useState)(""),s=l[0],c=l[1],f=(0,a.useState)(!1),d=f[0],m=f[1],p=(0,a.useState)(!1),v={positive:i,setPositive:o,parsedPositiveData:s,setParsedPositiveData:c,parsedSingleFlag:d,setParsedSingleFlag:m,parsedMultiFlag:p[0],setParsedMultiFlag:p[1]};return(0,r.jsx)(u.Provider,{value:v,children:t})}},470:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,testDataConfigContext:()=>u});var r=n(4246),a=n(7378),u=a.createContext("");const i=function(e){var t=e.children,n=(0,a.useState)([]),i=n[0],o=n[1],l=(0,a.useState)([]),s=l[0],c=l[1],f=(0,a.useState)([]),d=f[0],m=f[1],p=(0,a.useState)(["JSON Paths","TC 1"]),v={singleTestConfig:i,setSingleTestConfig:o,multiJsonPaths:s,setMultiJsonPaths:c,multiHeaders:p[0],setMultiHeaders:p[1],multiTestConfig:d,setMultiTestconfig:m};return(0,r.jsx)(u.Provider,{value:v,children:t})}},7456:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,defaultCustomTestDataContext:()=>o});var r=n(2706),a=n(4246),u=n(7378),i=n(6567),o=u.createContext("");const l=function(e){var t=e.children,n=(0,r.Z)(u.useState(Object.entries(i.config)),2),l=n[0],s=n[1],c=(0,u.useState)(!1),f=c[0],d=c[1];(0,u.useEffect)((function(){s(Object.entries(i.config))}),[]);var m={configEntries:l,setConfigEntries:s,configFlag:f,setConfigFlag:d};return(0,a.jsx)(o.Provider,{value:m,children:t})}},3828:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,testSummaryContext:()=>u});var r=n(4246),a=n(7378),u=a.createContext("");const i=function(e){var t=e.children,n=(0,a.useState)([]),i=n[0],o=n[1],l=(0,a.useState)([]),s={changeSummary:i,setChangeSummary:o,multiChangeSummary:l[0],setMultiChangeSummary:l[1]};return(0,r.jsx)(u.Provider,{value:s,children:t})}},80:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(7378),a=n(642),u=n(470),i=n(3828),o=n(7456),l=n(9520);const s=function(){var e=(0,r.useContext)(a.jsonBodyContext).parsedPositiveData,t=(0,r.useContext)(i.testSummaryContext),n=t.multiChangeSummary,s=t.setMultiChangeSummary,c=(0,r.useContext)(o.defaultCustomTestDataContext).configEntries,f=(0,r.useContext)(u.testDataConfigContext),d=f.multiTestConfig,m=f.multiHeaders;return(0,r.useEffect)((function(){var t=(0,l.mapChangeMultiSummary)(m,"JSON Paths",d,e.environment,c),r=(0,l.compareAndRetainResponseInMultiSummary)(n,t);s(r)}),[d]),null}},9520:(e,t,n)=>{"use strict";n.r(t),n.d(t,{compareAndRetainResponseInMultiSummary:()=>m,compareAndRetainResponseInSummary:()=>d,default:()=>g,getConfigEntriesValue:()=>l,mapChangeMultiSummary:()=>y,mapChangeSummary:()=>p,mapConfigChangesInChangeMultiSummary:()=>c,mapConfigChangesInChangeSummary:()=>s});var r=n(1946),a=n(8772),u=n(3334),i=n(3573),o=n(6611);function l(e,t){var n="";return e.forEach((function(e,r){e[0]==t&&(n=e[1])})),"null"==t?null:"optional"==t?"":n}function s(e,t){return null===e||void 0===e?void 0:e.map((function(e){var n=e.newFieldType.toLowerCase();return"optional"===n||"null"===n||n.includes("c-")?e:(0,u.Z)((0,a.Z)({},e),{newFieldValue:l(t,e.newFieldType.toLowerCase()).toString()})}))}function c(e,t){return null===e||void 0===e?void 0:e.map((function(e){var n;return(0,u.Z)((0,a.Z)({},e),{tests:null===(n=e.tests)||void 0===n?void 0:n.map((function(e){var n=e.newFieldType.toLowerCase();return"optional"===n||"null"===n||n.includes("c-")?e:(0,u.Z)((0,a.Z)({},e),{newFieldValue:l(t,e.newFieldType.toLowerCase()).toString()})}))})}))}function f(e,t,n){var r={};return r.fieldName=e.fieldName,r.oldFieldType=e.fieldType,r.oldFieldValue=e.oldFieldValue,r.newFieldType=t,r.newFieldValue=n,r.status=400,r.response="",r}function d(e,t){return t.map((function(t){var n="",r="",o=!1;return e.map((function(e){if(!o){var a=Object.keys(t),u=Object.keys(e),l=new Set((0,i.Z)(a).concat((0,i.Z)(u))),s=!0;l.forEach((function(n){"status"!==n&&"response"!==n&&(t[n]===e[n]||(s=!1))})),s&&(n=e.status,r=e.response,o=!0)}})),o?(0,u.Z)((0,a.Z)({},t),{status:n,response:r}):(0,a.Z)({},t)}))}function m(e,t){return t.map((function(t){var n="",r="",i=!1;return e.map((function(e){i||JSON.stringify(t.tests)!==JSON.stringify(e.tests)||(i=!0,n=e.status,r=e.response)})),i?(0,u.Z)((0,a.Z)({},t),{status:n,response:r}):(0,a.Z)({},t)}))}function p(e,t,n){var r=[];return null===e||void 0===e||e.map((function(e){t.map((function(t){t.fieldName===e.name&&(e.dataType.map((function(e){if(!0===e.selected){var a=l(n,e.value),u=f(t,e.label,a);r.push(u)}})),e.custom.map((function(e){if(!0===e.selected)if("Custom"===e.label&&e.value.length>0)for(var n=0;n<e.value.length;n++){var a=e.value[n],u=f(t,"C-"+(0,o.Z)(e.value[n]),a);r.push(u)}else{var i=e.value,l=f(t,"C-"+e.label,i);r.push(l)}})))}))})),r}function v(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(0!==t.length){var o=t[0],l=t.slice(1);n[o].forEach((function(t){var s=(0,u.Z)((0,a.Z)({},i),(0,r.Z)({},o,t));v(e,l,n,s)}))}else e.push(Object.values(i))}function y(e,t,n,r,a){var u=0,i=[],s=[];return e.forEach((function(e){if(e!=t){var c=[],f={},d=0;if(null===n||void 0===n||n.forEach((function(e){r.map((function(t){if(t.fieldName===e.name){e.options.forEach((function(n,r){r==u&&n.forEach((function(n){if(n.selected&&"Custom"!==n.label&&"Select..."!==n.label){var r={};r.fieldName=e.name,r.oldFieldType=t.fieldType,r.oldFieldValue=t.oldFieldValue,r.newFieldType=n.label;var u=l(a,n.value);r.newFieldValue=null===u?null:u,c.push(r)}else n.selected&&"Custom"===n.label&&(d=1)}))})),s=[];var n=[];1==d&&e.config.forEach((function(r,a){a==u&&r.forEach((function(r){if(r.selected)if("Custom"===r.label&&r.value.length>0)for(var a=0;a<r.value.length;a++){var u={};u.fieldName=e.name,u.oldFieldType=t.fieldType,u.oldFieldValue=t.oldFieldValue,u.newFieldType="C-"+(0,o.Z)(r.value[a]);var i=r.value[a];u.newFieldValue=null===i?null:i,d=2,n.push(u)}else{var l={};l.fieldName=e.name,l.oldFieldType=t.fieldType,l.oldFieldValue=t.oldFieldValue,l.newFieldType="C-"+r.label,l.newFieldValue=r.value,d=2,n.push(l)}}))})),n.length>0&&(f[e.name]=n)}}))})),v(s,Object.keys(f),f),2==d&&s.length>0)for(var m=function(e){var t=[];if(c.length>0)for(var n=0;n<c.length;n++)t.push(c[n]);s[e].map((function(e){return t.push(e)}));var r={};r.tests=t,r.status=400,r.response="",i.push(r)},p=0;p<s.length;p++)m(p);else if(c.length>0){var y={};y.tests=c,y.status=400,y.response="",i.push(y)}u++}})),i}function g(){}},6567:(e,t,n)=>{"use strict";n.r(t),n.d(t,{config:()=>r,default:()=>a});var r={string:"test",integer:2,float:1.23};const a=function(){}},4081:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},7265:(e,t,n)=>{"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:()=>r})},3334:(e,t,n)=>{"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.d(t,{Z:()=>r})},2706:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(7265);var a=n(754);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||(0,r.Z)(e,t)||(0,a.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},3573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4081);var a=n(7265);var u=n(754);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,u.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},6611:(e,t,n)=>{"use strict";function r(e){return e&&e.constructor===Symbol?"symbol":typeof e}n.d(t,{Z:()=>r})},754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(4081);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},e=>{e.O(0,[9774,2888,179],(()=>{return t=4328,e(e.s=t);var t}));var t=e.O();_N_E=t}]);